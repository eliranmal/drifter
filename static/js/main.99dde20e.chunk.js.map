{"version":3,"sources":["store/transport.js","lib/util.js","store/app-settings.js","store/sampler.js","store/decorators/persisted-store.js","lib/storage.js","components/input/Input.js","pages/layout/Layout.js","components/label/Label.js","hoc/neumorphism/Neumorphism.js","components/select/Select.js","components/number-input/NumberInput.js","pages/settings/Settings.js","hooks/useToneRef.js","hooks/useAnalyser.js","hooks/useMediaQueries.js","components/heading/Heading.js","hooks/useSampler.js","lib/audio.js","hooks/useFixedSampler.js","hooks/useDriftingSampler.js","hoc/box-wrapper/BoxWrapper.js","components/checkbox/Checkbox.js","components/sampler/Sampler.js","components/analysers/analyser/Analyser.js","components/analysers/Analysers.js","hooks/useKeyboard.js","components/transport-button/TransportButton.js","components/transport/Transport.js","components/range-input/RangeInput.js","pages/main-view/MainView.js","components/error-boundary/AppErrorBoundary.js","App.js","reportWebVitals.js","index.js"],"names":["transportStore","persistedStore","module","isPlaying","isRecording","loopLengthInSixteenths","ø","Object","create","blockThread","intensity","iterations","multiplier","primes","i","candidate","Math","random","isPrime","c","sqrt","push","calculatePrimes","range","size","Array","keys","matrixHead","defaultValue","arr","bind","matrixRotate","matrix","length","map","colIndex","row","rowIndex","matrixInsertValue","col","value","rowValue","colValue","percentageScale","min","max","n","proximityDistribution","centerValue","segmentCount","maxValue","limit","abs","exclusiveReplacer","excludes","key","includes","marshall","JSON","stringify","unmarshall","data","unmarshalledData","parse","e","basenameRegex","resolveModuleBasename","matches","exec","id","appSettingsStore","bpm","resetInterval","unit","resetIntervalValue","this","resetIntervalUnit","samplerStore","balance","triggerMatrix","updateTriggerMatrixValue","storeModule","storeTarget","unpersistedProps","target","localStorage","getItem","load","store","observable","autorun","reaction","replacer","setItem","save","Input","type","className","props","spaceOut","term","charAt","String","fromCharCode","repeat","substring","Layout","children","Main","main","sideBar","SideBar","mainProps","sideBarProps","displayName","Label","withNeumorphism","WrappedComponent","tintColor","shadeColor","backgroundColor","style","options","label","optionClassName","onChange","currentTarget","Settings","htmlFor","appSettings","action","observer","useToneRef","args","useRef","Tone","toDestination","current","useAnalyser","useMediaQueries","listenerByQueryMap","useEffect","listenerByQueryMappings","entries","mediaQueries","queryString","queryListener","window","matchMedia","queryMatchIndex","findIndex","forEach","query","listener","addEventListener","removeEventListener","Heading","text","sampleMap","rolandTr808","resolveSampleMapDirName","samplerSampleMap","sampleMapEntry","find","is","findSampleMapEntry","kebabCase","useSampler","samplerOptions","analyserRef","useState","loaded","setLoaded","samplerKitDirName","samplerRef","baseUrl","onload","connect","noteByChannelIndex","triggerMatrixAsNoteSequence","sixteenthValues","channelIndex","filter","Boolean","asTransportTime","sixteenthIndex","floor","join","loadTriggers","sampler","sixteenthNotes","triggerAttack","clearableMap","WeakMap","executeTriggers","stopPredicate","index","sliceTo","has","clearTimeout","get","sixteenthInMilliseconds","noteSequence","slice","tick","notes","set","setTimeout","useFixedSampler","samplerArgs","isSamplerLoaded","unsync","sync","audio","useDriftingSampler","isStoppedCallback","withBoxWrapper","useWrapper","wrapperClassName","Checkbox","checked","fixedSamplerAnalyser","driftingSampler1Analyser","driftingSampler2Analyser","driftingSampler3Analyser","useCallback","fixedSampler","isFixedSamplerLoaded","driftingSampler1","isDriftingSampler1Loaded","driftingSampler2","isDriftingSampler2Loaded","driftingSampler3","isDriftingSampler3Loaded","asDbSpl","percentageValue","fixedSamplerVolume","driftingSampler1Volume","driftingSampler2Volume","driftingSampler3Volume","volume","channel","tickValue","tickIndex","defaultChecked","Analyser","colors","analyser","muted","setMuted","values","setValues","active","activeColor","mutedColor","requestAnimationFrame","from","getValue","input","gain","onClick","width","height","borderStyle","borderWidth","borderColor","useKeyboard","document","tooltipByType","play","stop","record","isActive","loop","onPlay","onStop","onRecord","playListener","then","start","stopListener","recordListener","toggleListener","setLoopPoints","init","mappings","mapping","keyCode","modifiers","every","modifier","preventDefault","RangeInput","immediateOnChange","debouncedOnChange","debounce","AppErrorBoundary","state","hasError","errorMessage","errorStackTrace","renderErrorView","message","open","React","Component","getDerivedStateFromError","error","stack","App","effect","delayShow","delayHide","textColor","multiline","MainView","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.99dde20e.chunk.js","sourcesContent":["import persistedStore from './decorators/persisted-store'\n\n\nconst transportStore = persistedStore(module, {\n  isPlaying: false,\n  isRecording: false,\n  loopLengthInSixteenths: 20,\n}, ['isPlaying', 'isRecording', 'loopLengthInSixteenths'])\n\n\nexport default transportStore\n","\nconst ø = Object.create(null)\n\n\nconst calculatePrimes = (iterations, multiplier) => {\n  var primes = [];\n  for (var i = 0; i < iterations; i++) {\n    var candidate = i * (multiplier * Math.random());\n    var isPrime = true;\n    for (var c = 2; c <= Math.sqrt(candidate); ++c) {\n      if (candidate % c === 0) {\n          // not prime\n          isPrime = false;\n          break;\n       }\n    }\n    if (isPrime) {\n      primes.push(candidate);\n    }\n  }\n  return primes;\n}\n\n\n/**\n* performs a heavy calculation, effectively blocking the thread\n*\n* @param {number} intensity a number from 0 to 1 indicating the computation intensity\n*/\nexport const blockThread = intensity => calculatePrimes(intensity * 50, intensity * 1000000000)\n\n/**\n* @param {number} n any integer or float number, but not Infinity, -Infinity, 0 or -0\n*\n* @returns {number} 1 for positive values, -1 for negative\n*/\nexport const polarity = n => n / Math.abs(n)\n\nexport const limit = (min, max, value) => Math.max(min, Math.min(max, value))\n\nexport const range = size => [...(new Array(size)).keys()]\n\nexport const head = (defaultValue, arr = []) => arr[0] ?? defaultValue\n\nexport const matrixHead = head.bind(ø, [])\n\nexport const matrixRotate = matrix => range(matrixHead(matrix).length).map(\n  colIndex => matrix.map(\n    (row, rowIndex) => row[colIndex]\n  )\n)\n\nexport const matrixInsertValue = (matrix, row, col, value) => matrix.map(\n  (rowValue, rowIndex) => rowIndex === row ? rowValue.map(\n    (colValue, colIndex) => colIndex === col ? value : colValue\n  ) : rowValue\n)\n\nexport const percentageScale = (min, max) => n => (\n  (((max - min) / 100) * n) + min\n)\n\nexport const proximityDistribution = (centerValue, segmentCount, maxValue = 100) => (\n  range(segmentCount).map(\n    (n, i, arr) => {\n      const limit = (maxValue / (arr.length - 1)) * i\n      return maxValue - Math.abs(limit - centerValue)\n    }\n  )\n)\n\nexport const asLogarithmic = () => {\n  // todo - implement\n}\n\nexport const exclusiveReplacer = excludes => excludes ? (key, value) => (\n  excludes.includes(key) ? void 0 : value\n) : void 0\n\nexport const marshall = JSON.stringify\n\nexport const unmarshall = data => {\n  if (!data) {\n    return\n  }\n  let unmarshalledData\n  try {\n    unmarshalledData = JSON.parse(data)\n  } catch (e) {}\n  return unmarshalledData\n}\n\n\nconst basenameRegex = /[^/\\\\]*(?=[.][a-zA-Z]+$)/\n\nexport const resolveModuleBasename = module => {\n  const matches = basenameRegex.exec(module.id)\n  if (matches && matches.length) {\n    return matches[0]\n  }\n}\n","import persistedStore from './decorators/persisted-store'\n\n\nconst appSettingsStore = persistedStore(module, {\n  bpm: 99,\n  resetInterval: {\n    value: 4,\n    unit: 'bars',\n  },\n  get resetIntervalValue() {\n    return this.resetInterval.value\n  },\n  set resetIntervalValue(value) {\n    this.resetInterval.value = value\n  },\n  get resetIntervalUnit() {\n    return this.resetInterval.unit\n  },\n  set resetIntervalUnit(unit) {\n    this.resetInterval.unit = unit\n  },\n})\n\n\nexport default appSettingsStore\n","import persistedStore from './decorators/persisted-store'\nimport {matrixInsertValue} from '../lib/util'\n\n\nconst samplerStore = persistedStore(module, {\n  // 0: fixed sampler full volume --> 100: drifting samplers full volume\n  balance: 0,\n  triggerMatrix: [\n    [1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  ],\n  updateTriggerMatrixValue(row, col, value) {\n    // todo - rewrite this as a true update (non-pure) and see what happens\n    this.triggerMatrix = matrixInsertValue(\n      this.triggerMatrix, row, col, value\n    )\n  },\n})\n\n\nexport default samplerStore\n","import {observable, autorun} from 'mobx'\n\nimport {load, save} from '../../lib/storage'\nimport {exclusiveReplacer, resolveModuleBasename} from '../../lib/util'\n\n\nconst persistedStore = (storeModule, storeTarget, unpersistedProps) => {\n  const key = `drifter-${resolveModuleBasename(storeModule)}`\n  const target = {\n    ...load(key),\n    ...storeTarget,\n  }\n  const store = observable(target)\n  autorun(\n    reaction => save(key, store, exclusiveReplacer(unpersistedProps))\n  )\n  return store\n}\n\n\nexport default persistedStore\n","import {marshall, unmarshall} from '../lib/util'\n\n\nexport const load = key => unmarshall(localStorage.getItem(key))\n\nexport const save = (key, data, replacer) => (\n  localStorage.setItem(key, marshall(data, replacer))\n)\n","import './Input.css'\n\n\nconst Input = ({ type = 'text', className, ...props}) => (\n  <input\n    {...props}\n    type={type}\n    className={`drifter-input ${className ?? ''}`}\n    />\n)\n\n\nexport default Input\n","import Input from '../../components/input/Input'\n\nimport './Layout.css'\n\n\nconst Layout = ({\n  children,\n  main: Main,\n  sideBar: SideBar = () => null,\n  mainProps = {},\n  sideBarProps = {},\n}) => (\n  <div className=\"drifter-layout\">\n    <main className=\"drifter-layout-main\">\n      { Main ? <Main {...mainProps} /> : children }\n    </main>\n    <Input\n      className=\"drifter-layout-sidebar-pin\"\n      type=\"checkbox\"\n    />\n    <aside className=\"drifter-layout-sidebar\"\n      data-heading={spaceOut(SideBar.displayName)}>\n      <SideBar {...sideBarProps} />\n    </aside>\n  </div>\n)\n\n// todo - find a better way\nconst spaceOut = term => term ?\n  `${term.charAt(0)}${String.fromCharCode('0000a0').repeat(5)}${term.substring(1)}` :\n    ''\n\n\nexport default Layout\n","import './Label.css'\n\n\nconst Label = ({children, className, ...props}) => (\n  <label\n    {...props}\n    className={`drifter-label ${className ?? ''}`}>{\n      children && children.length ? children : null\n    }</label>\n)\n\n\nexport default Label\n","\nimport './Neumorphism.css'\n\n\nexport const withNeumorphism = (WrappedComponent, {\n  tintColor,\n  shadeColor,\n  backgroundColor\n} = {}) => ({className, ...props}) => (\n  <WrappedComponent\n    {...props}\n    className={`drifter-has-neumorphism ${className}`}\n    style={{\n      '--neumorphism-bg-color': backgroundColor,\n      '--neumorphism-shadow-color-tint': tintColor,\n      '--neumorphism-shadow-color-shade': shadeColor,\n    }}\n  />\n)\n","import {withNeumorphism} from '../../hoc/neumorphism/Neumorphism'\n\nimport './Select.css'\n\n\nconst Select = ({ options = [], className, ...props}) => (\n  <select\n    {...props}\n    className={`drifter-select ${className ?? ''}`}>\n      {options.map(({value, label, className: optionClassName}, key) => (\n        <option\n          className={`drifter-select-option ${optionClassName ?? ''}`}\n          key={key}\n          value={value}\n          >{label}</option>\n      ))}\n  </select>\n)\n\n\nexport default withNeumorphism(Select, {\n  backgroundColor: 'var(--background-color-complement)',\n  tintColor: 'var(--background-color-complement-tint)',\n  shadeColor: 'var(--background-color-complement-shade)',\n})\n","import {withNeumorphism} from '../../hoc/neumorphism/Neumorphism'\nimport Input from '../input/Input'\n\nimport './NumberInput.css'\n\n\nconst NumberInput = ({className, onChange, ...props}) => (\n  <Input\n    {...props}\n    className={`drifter-number-input ${className ?? ''}`}\n    type=\"number\"\n    onChange={({currentTarget: {value}}) => onChange(+value)}\n  />\n)\n\n\nexport default withNeumorphism(NumberInput, {\n  backgroundColor: 'var(--background-color-complement)',\n  tintColor: 'var(--background-color-complement-tint)',\n  shadeColor: 'var(--background-color-complement-shade)',\n})\n","import {action} from 'mobx'\nimport {observer} from 'mobx-react-lite'\n\nimport appSettings from '../../store/app-settings'\nimport Label from '../../components/label/Label'\nimport Select from '../../components/select/Select'\nimport NumberInput from '../../components/number-input/NumberInput'\n\nimport './Settings.css'\n\n\nconst Settings = () => (\n  <div className=\"drifter-settings\">\n    <div\n      className=\"drifter-setting-bpm\"\n      data-tip=\"set the speed in beats per minutes\"\n      data-place=\"left\"\n    >\n      <Label htmlFor=\"drifter-setting-input-bpm\">bpm:</Label>\n      <NumberInput\n        id=\"drifter-setting-input-bpm\"\n        min={1}\n        max={1000}\n        value={appSettings.bpm}\n        onChange={action(\n          value => (appSettings.bpm = value)\n        )}\n      />\n    </div>\n    <div\n      className=\"drifter-setting-reset-interval\"\n      data-tip=\"synchronize the original source and the drifting source using this interval (0 means never)\"\n      data-place=\"left\"\n    >\n      <Label htmlFor=\"drifter-setting-input-reset-interval\">reset every:</Label>\n      <div>\n        <NumberInput\n          id=\"drifter-setting-input-reset-interval\"\n          min={0}\n          max={64}\n          value={appSettings.resetInterval.value}\n          onChange={action(\n            value => (appSettings.resetInterval = {\n              ...appSettings.resetInterval,\n              value,\n            })\n          )}\n        />\n        <Select\n          options={[\n            { label: 'bars', value: 'bars' },\n            { label: 'beats', value: 'beats' },\n          ]}\n          defaultValue={appSettings.resetInterval.unit}\n          onChange={({currentTarget: {value}}) => (appSettings.resetInterval = {\n            ...appSettings.resetInterval,\n            unit: value,\n          })}\n        />\n      </div>\n    </div>\n  </div>\n)\n\nSettings.displayName = 'settings'\n\n\nexport default observer(Settings)\n","import {useRef} from 'react'\nimport * as Tone from 'tone'\n\n\nconst useToneRef = (type = '', ...args) => useRef(\n  new Tone[type](...args).toDestination()\n).current\n\n\nexport default useToneRef\n","import useToneRef from './useToneRef'\n\n\nconst useAnalyser = (\n  type = 'waveform',\n  size = 64\n) => useToneRef('Analyser', type, size)\n\n\nexport default useAnalyser\n","import {useEffect} from 'react'\n\n\nconst useMediaQueries = listenerByQueryMap => {\n\n  useEffect(() => {\n    const listenerByQueryMappings = Object.entries(listenerByQueryMap)\n\n    const mediaQueries = listenerByQueryMappings.map(([queryString, queryListener]) => ([\n        window.matchMedia(queryString),\n        e => e.matches && queryListener(),\n      ]))\n\n    const queryMatchIndex = mediaQueries.findIndex(([query]) => query.matches)\n    if (queryMatchIndex !== -1) {\n      listenerByQueryMappings[queryMatchIndex][1]()\n    }\n\n    mediaQueries\n      .forEach(([query, listener]) => query.addEventListener('change', listener))\n\n    return () => mediaQueries\n      .forEach(([query, listener]) => query.removeEventListener('change', listener))\n  }, [listenerByQueryMap])\n}\n\n\nexport default useMediaQueries\n","\nimport './Heading.css'\n\n\nconst Heading = ({text = ''}) => (\n  <h1 className=\"drifter-heading\">{text.charAt(0)}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{text.substring(1)}</h1>\n)\n\n\nexport default Heading\n","import {useState} from 'react'\nimport kebabCase from 'lodash.kebabcase'\n\nimport useToneRef from './useToneRef'\n\n\nconst sampleMap = {\n  rolandTr808: {\n    'C4': 'TR-808Kick01.wav',\n    'C#4': 'TR-808Snare01.wav',\n    'D4': 'TR-808Clap01.wav',\n    'D#4': 'TR-808Hat_C01.wav',\n  },\n}\n\nconst findSampleMapEntry = samplerSampleMap => Object.entries(sampleMap)\n  .find(([key, map]) => Object.is(samplerSampleMap, map))\n\nconst resolveSampleMapDirName = samplerSampleMap => {\n  const sampleMapEntry = findSampleMapEntry(samplerSampleMap)\n  return sampleMapEntry && sampleMapEntry[0] && kebabCase(sampleMapEntry[0])\n}\n\nconst useSampler = (samplerSampleMap = {}, samplerOptions = {}, analyserRef) => {\n  const [loaded, setLoaded] = useState(false)\n\n  const samplerKitDirName = resolveSampleMapDirName(samplerSampleMap)\n\n  const samplerRef = useToneRef('Sampler', samplerSampleMap, {\n    ...samplerOptions,\n    baseUrl: `audio/drum-machines/${samplerKitDirName}/`,\n    onload: () => {\n      setLoaded(true)\n      samplerOptions.onload && samplerOptions.onload()\n    },\n  })\n\n  return [analyserRef ? samplerRef.connect(analyserRef) : samplerRef, loaded, analyserRef]\n}\n\n\nexport {sampleMap}\n\nexport default useSampler\n","import * as Tone from 'tone'\nimport {matrixRotate, blockThread} from './util'\n\n\n// todo - how to get notes dynamically from the sampler instance?\n//        sampler.get() only seems to return the default settings\nconst noteByChannelIndex = [\n  'C4',\n  'C#4',\n  'D4',\n  'D#4',\n]\n\n\nconst triggerMatrixAsNoteSequence = matrix =>\n  matrixRotate(matrix)\n    .map(sixteenthValues => sixteenthValues\n      .map((value, channelIndex) => value && noteByChannelIndex[channelIndex])\n      .filter(Boolean))\n\n\nexport const asTransportTime = sixteenthIndex => [\n  Math.floor(sixteenthIndex / 16) % 4,\n  Math.floor(sixteenthIndex / 4) % 4,\n  sixteenthIndex % 4,\n].join(':')\n\n/**\n* this function is not pure!\n* it causes side effects by invoking the sampler instance imperatively\n*/\nexport const loadTriggers = (sampler, matrix) => {\n  triggerMatrixAsNoteSequence(matrix)\n    .map((sixteenthNotes, sixteenthIndex) => sixteenthNotes.length &&\n        sampler.triggerAttack(sixteenthNotes, asTransportTime(sixteenthIndex))\n    )\n}\n\nconst clearableMap = new WeakMap()\n\nexport const executeTriggers = (\n  sampler,\n  matrix = [],\n  bpm,\n  stopPredicate = index => index >= matrix.length - 1,\n  sliceTo,\n) => {\n  if (clearableMap.has(sampler)) {\n    clearTimeout(clearableMap.get(sampler))\n  }\n  const sixteenthInMilliseconds = ((60 / bpm) / 4) * 1000\n  let noteSequence = triggerMatrixAsNoteSequence(matrix)\n  if (typeof sliceTo !== 'undefined') {\n    noteSequence = noteSequence.slice(0, sliceTo)\n  }\n\n  let index = 0\n  // console.time(index)\n  const tick = () => {\n    if (stopPredicate(index)) {\n      if (clearableMap.has(sampler)) {\n        clearTimeout(clearableMap.get(sampler))\n      }\n      return\n    }\n\n    // todo - externalize this parameter as part of the 'entropy' knob\n    //        (in addition to the number of concurrent samplers)\n    blockThread(.2)\n\n    const notes = noteSequence[index % noteSequence.length]\n    // console.timeEnd(index)\n    index += 1\n    // console.time(index)\n    sampler.triggerAttack(notes, Tone.immediate())\n    clearableMap.set(sampler, setTimeout(tick, sixteenthInMilliseconds))\n  }\n\n  tick()\n}\n","import {useEffect} from 'react'\nimport * as audio from '../lib/audio'\nimport useSampler from './useSampler'\n\n\nconst useFixedSampler = (triggerMatrix, ...samplerArgs) => {\n  const [sampler, isSamplerLoaded] = useSampler(...samplerArgs)\n\n  useEffect(() => sampler.unsync().sync(), [sampler, triggerMatrix])\n\n  useEffect(() => {\n    if (isSamplerLoaded) {\n      audio.loadTriggers(sampler, triggerMatrix)\n    }\n  }, [isSamplerLoaded, sampler, triggerMatrix])\n\n  return [sampler, isSamplerLoaded]\n}\n\n\nexport default useFixedSampler\n","import {useEffect} from 'react'\n\nimport * as audio from '../lib/audio'\nimport useSampler from './useSampler'\n\n\nconst useDriftingSampler = (\n  triggerMatrix, bpm, loopLengthInSixteenths, isStoppedCallback,\n  ...samplerArgs\n) => {\n  const [sampler, isSamplerLoaded] = useSampler(...samplerArgs)\n\n  useEffect(() => sampler.unsync(), [sampler, triggerMatrix])\n\n  useEffect(() => {\n    if (isSamplerLoaded) {\n      audio.executeTriggers(\n        sampler, triggerMatrix, bpm, isStoppedCallback, loopLengthInSixteenths\n      )\n    }\n  }, [isSamplerLoaded, sampler, triggerMatrix, bpm, isStoppedCallback, loopLengthInSixteenths])\n\n  return [sampler, isSamplerLoaded]\n}\n\n\nexport default useDriftingSampler\n","\nimport './BoxWrapper.css'\n\n\nexport const withBoxWrapper = (WrappedComponent, {\n  useWrapper = true,\n  wrapperClassName = '',\n} = {}) => props => useWrapper ? (\n  <div className={`drifter-box-wrapper ${wrapperClassName}`}>\n    <WrappedComponent {...props} />\n  </div>\n) : (\n  <WrappedComponent\n    {...props}\n    className={`drifter-box-wrapper ${props.className ?? ''}`}\n  />\n)\n","import Input from '../input/Input'\n\nimport './Checkbox.css'\n\n\nconst Checkbox = ({\n  className = '',\n  onChange = () => {},\n  ...props\n}) => (\n  <Input\n    {...props}\n    type=\"checkbox\"\n    className={`drifter-checkbox ${className}`}\n    onChange={({currentTarget: {checked}}) => (\n      onChange(Boolean(checked))\n    )}\n  />\n)\n\n\nexport default Checkbox\n","import {action} from 'mobx'\nimport {observer} from 'mobx-react-lite'\nimport {useEffect, useCallback} from 'react'\n\nimport {\n  percentageScale,\n  proximityDistribution,\n} from '../../lib/util'\nimport samplerStore from '../../store/sampler'\nimport transportStore from '../../store/transport'\nimport {sampleMap} from '../../hooks/useSampler'\nimport useFixedSampler from '../../hooks/useFixedSampler'\nimport useDriftingSampler from '../../hooks/useDriftingSampler'\nimport {withBoxWrapper} from '../../hoc/box-wrapper/BoxWrapper'\n\nimport Checkbox from '../checkbox/Checkbox'\n\nimport './Sampler.css'\n\n\nconst Sampler = ({\n  className,\n  bpm,\n  loopLengthInSixteenths,\n  fixedSamplerAnalyser,\n  driftingSampler1Analyser,\n  driftingSampler2Analyser,\n  driftingSampler3Analyser,\n}) => {\n  const {balance, triggerMatrix} = samplerStore\n  // todo - replace the usage of 'isPlaying' with a 'cursor' to enable linking animation steps with audio events\n  const {isPlaying} = transportStore\n\n  const isStoppedCallback = useCallback(() => !isPlaying, [isPlaying])\n\n  const [fixedSampler, isFixedSamplerLoaded] = useFixedSampler(triggerMatrix, sampleMap.rolandTr808, {}, fixedSamplerAnalyser)\n  const [driftingSampler1, isDriftingSampler1Loaded] = useDriftingSampler(triggerMatrix, bpm, loopLengthInSixteenths, isStoppedCallback, sampleMap.rolandTr808, {}, driftingSampler1Analyser)\n  const [driftingSampler2, isDriftingSampler2Loaded] = useDriftingSampler(triggerMatrix, bpm, loopLengthInSixteenths, isStoppedCallback, sampleMap.rolandTr808, {}, driftingSampler2Analyser)\n  const [driftingSampler3, isDriftingSampler3Loaded] = useDriftingSampler(triggerMatrix, bpm, loopLengthInSixteenths, isStoppedCallback, sampleMap.rolandTr808, {}, driftingSampler3Analyser)\n\n  const asDbSpl = percentageScale(-36, 0)\n\n  const [\n    fixedSamplerVolume,\n    driftingSampler1Volume,\n    driftingSampler2Volume,\n    driftingSampler3Volume\n  ] = proximityDistribution(balance, 4).map(\n    percentageValue => asDbSpl(percentageValue)\n  )\n\n  useEffect(() => {\n    if (isFixedSamplerLoaded) {\n      fixedSampler.volume.value = fixedSamplerVolume\n      // console.log('F:', fixedSampler.volume.value)\n    }\n  }, [fixedSamplerVolume, fixedSampler, isFixedSamplerLoaded])\n\n  useEffect(() => {\n    if (isDriftingSampler1Loaded) {\n      driftingSampler1.volume.value = driftingSampler1Volume\n      // console.log('D1:', driftingSampler1.volume.value)\n    }\n  }, [driftingSampler1Volume, driftingSampler1, isDriftingSampler1Loaded])\n\n  useEffect(() => {\n    if (isDriftingSampler2Loaded) {\n      driftingSampler2.volume.value = driftingSampler2Volume\n      // console.log('D2:', driftingSampler2.volume.value)\n    }\n  }, [driftingSampler2Volume, driftingSampler2, isDriftingSampler2Loaded])\n\n  useEffect(() => {\n    if (isDriftingSampler3Loaded) {\n      driftingSampler3.volume.value = driftingSampler3Volume\n      // console.log('D3:', driftingSampler3.volume.value)\n    }\n  }, [driftingSampler3Volume, driftingSampler3, isDriftingSampler3Loaded])\n\n\n  return (\n    <div\n      className={`drifter-sampler ${isPlaying ? 'drifter-sampler-running' : ''} ${className}`}\n      style={{ '--sampler-ticks': loopLengthInSixteenths }}\n    >\n      <div className=\"drifter-sampler-timeline\">\n        <div className=\"drifter-sampler-tape\"></div>\n        <div className=\"drifter-sampler-channels\">\n          {triggerMatrix.map((channel, channelIndex) => (\n            <div key={channelIndex} className=\"drifter-sampler-channel\">\n              {channel.map((tickValue, tickIndex) => (\n                <Checkbox\n                  className=\"drifter-sampler-tick\"\n                  key={tickIndex}\n                  defaultChecked={tickValue}\n                  onChange={checked => samplerStore.updateTriggerMatrixValue(\n                    channelIndex, tickIndex, +checked\n                  )}\n                />\n              ))}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default withBoxWrapper(observer(Sampler), {\n  useWrapper: false,\n})\n","import {useState, useEffect} from 'react'\n\nimport './Analyser.css'\n\n\nconst Analyser = ({className = '', colors = {}, analyser}) => {\n  const [muted, setMuted] = useState(false)\n  const [values, setValues] = useState([])\n\n  const {\n    active: activeColor = 'var(--accent-color-complement)',\n    muted: mutedColor = 'var(--accent-color)',\n  } = colors\n\n  useEffect(() => {\n    if (analyser && analyser.type === 'waveform') {\n      const tick = () => {\n        setValues(Array.from(analyser.getValue()))\n        window.requestAnimationFrame(tick)\n      }\n      window.requestAnimationFrame(tick)\n    }\n  }, [analyser])\n\n  useEffect(() => {\n    if (analyser) {\n      // todo - figure out how to also mute the audio signal\n      analyser.input.gain.value = muted ? 0 : 1\n    }\n  }, [analyser, muted])\n\n\n  /* todo - avoid the onClick; delegate control of the muted state to the extrenal component, */\n  /*        so it's possible to compose a dedicated button for that purpose */\n  return (\n    <div\n      className={`drifter-analyser ${className}`}\n      onClick={() => setMuted(!muted)}\n    >\n      {values.map((value, index, arr) => (<span\n        key={index}\n        style={{\n          width: `${100 / arr.length}%`,\n          // for a 'waveform' type analyser, the value will be in the range [-1, 1]\n          height: `calc((var(--visualization-box-height) * .5) + ${value * 50}%)`,\n          borderStyle: 'solid',\n          borderWidth: '.1rem 0 0',\n          borderColor: muted ? mutedColor : activeColor,\n        }}\n        ></span>)\n      )}\n    </div>\n  )\n}\n\n\nexport default Analyser\n","\n// todo - create a visualization based on the deviation of the tick actual delay\n//        from the intended delay (maybe a simple meter)\n\nimport {withBoxWrapper} from '../../hoc/box-wrapper/BoxWrapper'\nimport Analyser from './analyser/Analyser'\n\nimport './Analysers.css'\n\n\nconst Analysers = ({\n  className = '',\n  fixedSamplerAnalyser,\n  driftingSampler1Analyser,\n  driftingSampler2Analyser,\n  driftingSampler3Analyser,\n}) => (\n  <div className={`drifter-analysers ${className}`}>\n  <Analyser colors={{active: 'lightblue'}} analyser={driftingSampler1Analyser} />\n    <Analyser colors={{active: 'lightgreen'}} analyser={driftingSampler2Analyser} />\n    <Analyser colors={{active: 'fuchsia'}} analyser={driftingSampler3Analyser} />\n    <Analyser analyser={fixedSamplerAnalyser} />\n  </div>\n)\n\n\nexport default withBoxWrapper(Analysers, {\n  useWrapper: false,\n})\n","import {useEffect} from 'react'\n\n\n/**\n* a functional switch statement for command-style funneling of keyboard events.\n*\n* @param {Array<Array>} mappings - a list of tupples in the form:\n*   [\n*     [ {Number} keyCode, {Array<String>} modifiers, {Function} listener ]\n*   ]\n* modifiers is optional\n*\n* @returns {Function} an event listener that is routed and ready to be attached\n*/\nconst mapKeyboardEvents = mappings => e => {\n  const mapping = mappings.find(([keyCode, modifiers]) =>\n    keyCode === e.keyCode && (\n      !modifiers || modifiers.length === 0 ||\n      modifiers.every(modifier => e[modifier])\n    ))\n  if (mapping) {\n    e.preventDefault()\n    const listener = mapping[mapping.length - 1]\n    listener()\n  }\n}\n\nconst useKeyboard = (listener = () => {}) => {\n  useEffect(() => {\n    // keydown is best for capturing backspace and such\n    document.addEventListener('keydown', listener)\n    return () => {\n      document.removeEventListener('keydown', listener)\n    }\n  })\n}\n\n\nexport {mapKeyboardEvents}\n\nexport default useKeyboard\n","import {withNeumorphism} from '../../hoc/neumorphism/Neumorphism'\n\nimport './TransportButton.css'\n\n\nconst tooltipByType = {\n  play: 'play<br/>(space)',\n  stop: 'stop<br/>(space)',\n  record: 'record<br/>(shift+r)',\n}\n\n\nconst TransportButton = ({type, isActive, className, ...props}) => (\n  <button\n    {...props}\n    className={[\n      'drifter-transport-button',\n      type ? `drifter-transport-button-type-${type}` : '',\n      isActive ? 'drifter-transport-button-active' : '',\n      className,\n    ].filter(Boolean).join(' ')}\n    data-tip={tooltipByType[type]}\n  ></button>\n)\n\n\nexport default withNeumorphism(TransportButton)\n","import {action} from 'mobx'\nimport {observer} from 'mobx-react-lite'\nimport {useEffect, useCallback} from 'react'\nimport * as Tone from 'tone'\n\nimport {asTransportTime} from '../../lib/audio'\nimport useKeyboard, {mapKeyboardEvents} from '../../hooks/useKeyboard'\nimport transportStore from '../../store/transport'\nimport TransportButton from '../transport-button/TransportButton'\n\nimport './Transport.css'\n\n\nconst init = ({bpm, loop, loopLengthInSixteenths} = {}) => {\n  Tone.Transport.loop = !!loop\n  if (bpm) {\n    Tone.Transport.bpm.value = bpm\n  }\n  if (loopLengthInSixteenths) {\n    Tone.Transport.setLoopPoints(0, asTransportTime(loopLengthInSixteenths))\n  }\n}\n\nconst play = () => Tone.start()\n  .then(() => Tone.Transport.start())\n\nconst stop = () => Tone.loaded()\n  .then(() => Tone.Transport.stop())\n\n\nconst Transport = ({\n  bpm,\n  loop = true,\n  onPlay = () => {},\n  onStop = () => {},\n  onRecord = () => {},\n}) => {\n  const {\n    isPlaying,\n    isRecording,\n    loopLengthInSixteenths,\n  } = transportStore\n\n  const playListener = useCallback(\n    () => !isPlaying && play()\n      .then(action(() => (transportStore.isPlaying = true)))\n      .then(onPlay),\n    [isPlaying, onPlay])\n\n  const stopListener = useCallback(\n    () => isPlaying && stop()\n      .then(action(() => {\n        transportStore.isPlaying = false\n        transportStore.isRecording = false\n      }))\n      .then(onStop),\n    [isPlaying, onStop])\n\n  const recordListener = action(useCallback(\n    () => {\n      transportStore.isRecording = true\n      onRecord()\n    }, [onRecord]))\n\n  const toggleListener = useCallback(\n    () => isPlaying ? stopListener() : playListener(),\n    [isPlaying, playListener, stopListener])\n\n  useEffect(() => {\n    init({bpm, loop, loopLengthInSixteenths})\n  }, [bpm, loop, loopLengthInSixteenths])\n\n  useKeyboard(useCallback(e => mapKeyboardEvents([\n    // space\n    [32, () => toggleListener()],\n    // shift+r\n    [82, ['shiftKey'], () => {\n      playListener()\n      recordListener()\n    }],\n  ])(e), [playListener, recordListener, toggleListener]))\n\n  return (\n    <div className=\"drifter-transport\">\n      <TransportButton\n        type=\"play\"\n        onClick={playListener}\n        isActive={isPlaying}\n      />\n      <TransportButton\n        type=\"stop\"\n        onClick={stopListener}\n      />\n      <TransportButton\n        type=\"record\"\n        onClick={recordListener}\n        isActive={isRecording}\n      />\n    </div>\n  )\n}\n\n\nexport default observer(Transport)\n","import debounce from 'lodash.debounce'\nimport Input from '../input/Input'\n\nimport './RangeInput.css'\n\n\nconst RangeInput = ({className, onChange = () => {}, immediateOnChange = () => {}, ...props}) => {\n  const debouncedOnChange = debounce(onChange, 33)\n  return (\n    <Input\n      {...props}\n      type=\"range\"\n      className={`drifter-range-input ${className}`}\n      onChange={({currentTarget: {value}}) => {\n        immediateOnChange(+value)\n        debouncedOnChange(+value)\n      }}\n    />\n  )\n}\n\n\nexport default RangeInput\n","import {action} from 'mobx'\nimport {observer} from 'mobx-react-lite'\n\nimport appSettingsStore from '../../store/app-settings'\nimport samplerStore from '../../store/sampler'\nimport transportStore from '../../store/transport'\nimport useAnalyser from '../../hooks/useAnalyser'\nimport useMediaQueries from '../../hooks/useMediaQueries'\n\nimport Heading from '../../components/heading/Heading'\nimport Sampler from '../../components/sampler/Sampler'\nimport Analysers from '../../components/analysers/Analysers'\nimport Transport from '../../components/transport/Transport'\nimport RangeInput from '../../components/range-input/RangeInput'\n\nimport './MainView.css'\n\n\nconst MainView = () => {\n  const {bpm} = appSettingsStore\n  const {balance} = samplerStore\n  const {loopLengthInSixteenths} = transportStore\n\n  useMediaQueries({\n    '(max-width: 600px)': action(() => (transportStore.loopLengthInSixteenths = 4)),\n    '(min-width: 600px) and (max-width: 800px)': action(() => (transportStore.loopLengthInSixteenths = 8)),\n    '(min-width: 800px) and (max-width: 1200px)': action(() => (transportStore.loopLengthInSixteenths = 16)),\n    '(min-width: 1200px)': action(() => (transportStore.loopLengthInSixteenths = 32)),\n  })\n\n  const fixedSamplerAnalyser = useAnalyser()\n  const driftingSampler1Analyser = useAnalyser()\n  const driftingSampler2Analyser = useAnalyser()\n  const driftingSampler3Analyser = useAnalyser()\n\n\n  return (\n    <div className=\"drifter-main-view\">\n      <Heading text=\"drifter\" />\n      <Transport\n        className=\"drifter-main-view-panel-center\"\n        bpm={bpm}\n      />\n      <Sampler\n        className=\"drifter-main-view-panel\"\n        bpm={bpm}\n        loopLengthInSixteenths={loopLengthInSixteenths}\n        fixedSamplerAnalyser={fixedSamplerAnalyser}\n        driftingSampler1Analyser={driftingSampler1Analyser}\n        driftingSampler2Analyser={driftingSampler2Analyser}\n        driftingSampler3Analyser={driftingSampler3Analyser}\n      />\n      <RangeInput\n        className=\"drifter-main-view-panel-center\"\n        data-tip=\"set the balance between the fixed sampler's signal and the drifting samplers' signal\"\n        defaultValue={balance}\n        onChange={action(value => (samplerStore.balance = value))}\n      />\n      <Analysers\n        className=\"drifter-main-view-panel-end\"\n        fixedSamplerAnalyser={fixedSamplerAnalyser}\n        driftingSampler1Analyser={driftingSampler1Analyser}\n        driftingSampler2Analyser={driftingSampler2Analyser}\n        driftingSampler3Analyser={driftingSampler3Analyser}\n      />\n    </div>\n  )\n}\n\n\nexport default observer(MainView)\n","import React from 'react'\n\nimport Heading from '../heading/Heading'\n\nimport './AppErrorBoundary.css'\n\n\nclass AppErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      hasError: false,\n      errorMessage: null,\n      errorStackTrace: null,\n    }\n  }\n\n  static getDerivedStateFromError = (error) => {\n    return {\n      hasError: true,\n      errorMessage: error.message,\n      errorStackTrace: error.stack,\n    }\n  }\n\n  // componentDidCatch(error, errorInfo) {\n  //   logErrorToMyService(error, errorInfo);\n  // }\n\n  render() {\n    if (this.state.hasError) {\n      return this.renderErrorView()\n    }\n    return this.props.children;\n  }\n\n  renderErrorView() {\n    return (\n      <div className=\"drifter-app-error-view\">\n        <Heading text={this.props.message ?? 'error'} />\n        <div className=\"drifter-app-error-view-details-box\">\n          <label>message</label>\n          <pre\n            className=\"drifter-app-error-view-pre\"\n          >{this.state.errorMessage}</pre>\n          <details\n            className=\"drifter-app-error-view-details\"\n            open\n          >\n            <summary>stack trace</summary>\n            <pre\n              className=\"drifter-app-error-view-pre drifter-app-error-view-stacktrace\"\n            >{this.state.errorStackTrace}</pre>\n          </details>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default AppErrorBoundary\n","import ReactTooltip from 'react-tooltip'\n\nimport Layout from './pages/layout/Layout'\nimport Settings from './pages/settings/Settings'\nimport MainView from './pages/main-view/MainView'\nimport AppErrorBoundary from './components/error-boundary/AppErrorBoundary'\n\nimport './App.css';\nimport './styles/react-tooltip.css'\n\n\nconst App = () => (\n  <>\n    <ReactTooltip\n      className=\"drifter-react-tooltip\"\n      effect=\"solid\"\n      delayShow={500}\n      delayHide={250}\n      textColor=\"var(--background-color)\"\n      backgroundColor=\"var(--accent-color-complement)\"\n      multiline\n    />\n    <AppErrorBoundary>\n      <Layout\n        main={MainView}\n        sideBar={Settings}\n      />\n      </AppErrorBoundary>\n  </>\n)\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}