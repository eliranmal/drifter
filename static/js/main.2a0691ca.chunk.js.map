{"version":3,"sources":["lib/util.js","lib/storage.js","store/decorators/persisted-store.js","store/analysers.js","hoc/box-wrapper/BoxWrapper.js","components/analysers/analyser/Analyser.js","components/analysers/Analysers.js","store/layout.js","components/heading/Heading.js","components/form-control/FormControl.js","components/input/Input.js","components/checkbox/Checkbox.js","pages/layout/Layout.js","store/sampler.js","store/transport.js","components/label/Label.js","pages/settings/setting/Setting.js","hooks/useDebouncedCallback.js","components/range/Range.js","components/knob/Knob.js","hoc/neumorphism/Neumorphism.js","components/select/Select.js","components/number/Number.js","components/form-control-group/FormControlGroup.js","pages/settings/Settings.js","hooks/useToneRef.js","hooks/useSampler.js","hooks/useAnalyser.js","lib/audio.js","hooks/useFixedSampler.js","hooks/useDriftingSampler.js","components/sampler/Sampler.js","components/button/Button.js","components/transport-button/TransportButton.js","components/transport/Transport.js","pages/main-view/MainView.js","components/error-boundary/AppErrorBoundary.js","App.js","reportWebVitals.js","index.js"],"names":["Ã¸","Object","create","blockThread","intensity","iterations","multiplier","primes","i","candidate","Math","random","isPrime","c","sqrt","push","calculatePrimes","range","size","Array","keys","matrixHead","defaultValue","arr","bind","marshall","JSON","stringify","load","key","data","unmarshalledData","parse","e","unmarshall","localStorage","getItem","persistedStore","storeNamespace","storeTarget","unpersistedProps","store","savedStore","observable","assign","rehydrateStore","autorun","reaction","replacer","setItem","toJS","excludes","value","includes","analysersStore","f","d1","d2","d3","withBoxWrapper","WrappedComponent","useWrapper","wrapperClassName","props","className","Analyser","color","values","style","map","index","analyserColors","analysersLayout","observer","layout","observerValues","length","layoutStore","isMenuOpen","Heading","text","charAt","substring","FormControl","includeKey","object","FormControlType","tag","formControlClassName","tooltipAttributes","entries","filter","startsWith","reduce","accum","disabled","Input","type","Checkbox","onChange","checked","currentTarget","Boolean","children","Main","main","sideBar","SideBar","mainProps","sideBarProps","action","displayName","samplerStore","balance","triggerMatrix","resetInterval","unit","chaos","resetIntervalValue","this","resetIntervalUnit","updateTriggerMatrixValue","row","col","matrix","rowValue","rowIndex","colValue","colIndex","matrixInsertValue","transportStore","bpm","isLoopOn","isPlaying","isRecording","loopLengthInSixteenths","Label","settingAlign","Setting","tooltip","label","pad","align","left","alignItems","padding","useDebouncedCallback","listener","wait","debouncedListener","debounce","debouncedCallback","useCallback","useEffect","cancel","Range","onChangeImmediate","debouncedOnChange","viewStore","min","max","updateViewValue","newValue","withNeumorphism","tintColor","shadeColor","backgroundColor","options","optionClassName","StyledInput","Number","onIncrement","onDecrement","onClick","onKeyDown","mapKeyboardEvents","FormControlGroup","Settings","useToneRef","args","useRef","Tone","toDestination","current","sampleMap","rolandTr808","resolveSampleMapDirName","samplerSampleMap","find","val","is","findEntryByValue","kebabCase","useSampler","samplerOptions","analyserRef","useState","loaded","setLoaded","samplerKitDirName","samplerRef","baseUrl","onload","volume","connect","useAnalyser","noteByChannelIndex","triggerMatrixAsNoteSequence","matrixRotate","sixteenthValues","channelIndex","asTransportTime","sixteenthIndex","floor","join","loadTriggers","sampler","sixteenthNotes","triggerAttack","clearableMap","WeakMap","executeTriggers","stopPredicate","sliceTo","chaosPercentage","has","clearTimeout","get","sixteenthInMilliseconds","noteSequence","slice","tick","notes","set","setTimeout","useFixedSampler","samplerArgs","isSamplerLoaded","unsync","sync","audio","useDriftingSampler","isStoppedCallback","asDbSpl","n","centerValue","segmentCount","maxValue","limit","abs","proximityDistribution","percentageValue","fixedSamplerVolume","driftingSampler1Volume","driftingSampler2Volume","driftingSampler3Volume","fixedSamplerAnalyser","driftingSampler1Analyser","driftingSampler2Analyser","driftingSampler3Analyser","useAnimationFrame","forEach","analyser","from","getValue","channel","tickValue","tickIndex","defaultChecked","Button","tooltipByType","play","stop","record","disabledTooltipByType","isActive","onPlay","onStop","onRecord","playListener","then","start","stopListener","recordListener","toggleListener","loop","setLoopPoints","init","useKeyboard","useMediaQueries","flexShrink","flexGrow","margin","AppErrorBoundary","state","hasError","errorMessage","errorStackTrace","renderErrorView","message","open","React","Component","getDerivedStateFromError","error","stack","App","effect","delayShow","delayHide","textColor","multiline","MainView","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a0691ca.chunk.js","sourcesContent":["\nconst Ã¸ = Object.create(null)\n\n\nconst calculatePrimes = (iterations, multiplier) => {\n  var primes = [];\n  for (var i = 0; i < iterations; i++) {\n    var candidate = i * (multiplier * Math.random());\n    var isPrime = true;\n    for (var c = 2; c <= Math.sqrt(candidate); ++c) {\n      if (candidate % c === 0) {\n          // not prime\n          isPrime = false;\n          break;\n       }\n    }\n    if (isPrime) {\n      primes.push(candidate);\n    }\n  }\n  return primes;\n}\n\n\n/**\n* performs a heavy calculation, effectively blocking the thread\n*\n* @param {number} intensity a number from 0 to 1 indicating the computation intensity\n*/\nexport const blockThread = intensity => calculatePrimes(intensity * 50, intensity * 1000000000)\n\n/**\n* @param {number} n any integer or float number, but not Infinity, -Infinity, 0 or -0\n*\n* @returns {number} 1 for positive values, -1 for negative\n*/\nexport const polarity = n => n / Math.abs(n)\n\nexport const range = size => [...(new Array(size)).keys()]\n\nexport const head = (defaultValue, arr = []) => arr[0] ?? defaultValue\n\nexport const matrixHead = head.bind(Ã¸, [])\n\nexport const matrixRotate = matrix => range(matrixHead(matrix).length).map(\n  colIndex => matrix.map(\n    (row, rowIndex) => row[colIndex]\n  )\n)\n\nexport const matrixInsertValue = (matrix, row, col, value) => matrix.map(\n  (rowValue, rowIndex) => rowIndex === row ? rowValue.map(\n    (colValue, colIndex) => colIndex === col ? value : colValue\n  ) : rowValue\n)\n\nexport const percentageScale = (min, max) => n => (\n  (((max - min) / 100) * n) + min\n)\n\nexport const proximityDistribution = (centerValue, segmentCount, maxValue = 100) => (\n  range(segmentCount).map(\n    (n, i, arr) => {\n      const limit = (maxValue / (arr.length - 1)) * i\n      return maxValue - Math.abs(limit - centerValue)\n    }\n  )\n)\n\nexport const asLogarithmic = () => {\n  // todo - implement\n}\n\nexport const exclusiveReplacer = excludes => excludes ? (key, value) => (\n  excludes.includes(key) ? void 0 : value\n) : void 0\n\nexport const marshall = JSON.stringify\n\nexport const unmarshall = data => {\n  if (!data) {\n    return\n  }\n  let unmarshalledData\n  try {\n    unmarshalledData = JSON.parse(data)\n  } catch (e) {}\n  return unmarshalledData\n}\n\nexport const findEntryByValue = (value, object) => Object.entries(object)\n  .find(([key, val]) => Object.is(value, val)) ?? []\n\nexport const filterObjectByKey = (includeKey, object) => Object.entries(object)\n  .filter(([key, value]) => key.startsWith(includeKey))\n  .reduce((accum, [key, value]) => {\n    accum[key] = value\n    return accum\n  }, {})\n","import {marshall, unmarshall} from '../lib/util'\n\n\nexport const load = key => unmarshall(localStorage.getItem(key))\n\nexport const save = (key, data, replacer) => (\n  localStorage.setItem(key, marshall(data, replacer))\n)\n","import {toJS, autorun, observable} from 'mobx'\n\nimport {load, save} from '../../lib/storage'\nimport {exclusiveReplacer} from '../../lib/util'\n\n// this implementation uses observable() as it excludes (computed) getters from\n// the JS representation (unilke using makeAutoObservable(), or extendObservable()\n// - which uses makeAutoObservable() under the hood), while allowing these getters\n// to be used internally, which is what we want here.\nconst rehydrateStore = (storeTarget, savedStore) => (\n  observable(Object.assign(storeTarget, savedStore ?? {}))\n)\n\nconst persistedStore = (storeNamespace, storeTarget, unpersistedProps) => {\n  const key = `drifter-${storeNamespace}`\n  const store = rehydrateStore(storeTarget, load(key))\n  autorun(\n    reaction => (\n      // fixme - exclude redundant saves resulting from changes of unpersisted props\n      save(key, toJS(store), exclusiveReplacer(unpersistedProps))\n    )\n  )\n  return store\n}\n\n\nexport default persistedStore\n","import {observable} from 'mobx'\n\n\nconst analysersStore = observable({\n    f: [],\n    d1: [],\n    d2: [],\n    d3: [],\n})\n\n\nexport default analysersStore\n","\nimport './BoxWrapper.css'\n\n\nexport const withBoxWrapper = (WrappedComponent, {\n  useWrapper = true,\n  wrapperClassName = '',\n} = {}) => props => useWrapper ? (\n  <div className={`drifter-box-wrapper ${wrapperClassName}`}>\n    <WrappedComponent {...props} />\n  </div>\n) : (\n  <WrappedComponent\n    {...props}\n    className={`drifter-box-wrapper ${props.className ?? ''}`}\n  />\n)\n","import './Analyser.css'\n\n\nconst Analyser = ({\n  className = '',\n  color = 'var(--accent-color-complement)',\n  values = [],\n}) => (\n  <div\n    className={`drifter-analyser ${className}`}\n    style={{\n      '--analyser-color': color,\n    }}\n  >\n    {values.map((value, index, arr) => (\n      <span\n        key={index}\n        className=\"drifter-analyser-bar\"\n        style={{\n          '--analyser-bar-amplitude': value,\n        }}\n      ></span>\n    ))}\n  </div>\n)\n\n\nexport default Analyser\n","import {observer} from 'mobx-react-lite'\nimport {values as observerValues} from 'mobx'\nimport analysersStore from '../../store/analysers'\nimport {withBoxWrapper} from '../../hoc/box-wrapper/BoxWrapper'\n\nimport Analyser from './analyser/Analyser'\n\nimport './Analysers.css'\n\n\nconst analyserColors = [\n  'var(--light-yellow)',\n  'var(--green)',\n  'var(--blue)',\n  'var(--purple)',\n  'var(--pink)',\n]\n\nconst analysersLayout = {\n  flow: 'flow',\n  stack: 'stack',\n}\n\nconst Analysers = ({\n  className = '',\n  layout = analysersLayout.flow,\n  ...props\n}) => (\n  <div\n    {...props}\n    className={`drifter-analysers drifter-analysers-${layout} ${className}`}\n  >\n    {observerValues(analysersStore).map((values, index, arr) => (\n      <Analyser\n        key={index}\n        values={values}\n        color={analyserColors[index % arr.length]}\n      />\n    ))}\n  </div>\n)\n\n\nexport {analysersLayout}\n\nexport default withBoxWrapper(observer(Analysers), {\n  useWrapper: false,\n})\n","import persistedStore from './decorators/persisted-store'\nimport {analysersLayout} from '../components/analysers/Analysers'\n\n\nconst layoutStore = persistedStore('layout', {\n  isMenuOpen: false,\n  analysersLayout: analysersLayout.flow,\n})\n\n\nexport default layoutStore\n","\nimport './Heading.css'\n\n\nconst Heading = ({\n  text = '',\n  className = '',\n}) => (\n  <h1\n    className={`drifter-heading ${className}`}\n   >{text.charAt(0)}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{text.substring(1)}</h1>\n)\n\n\nexport default Heading\n","import {filterObjectByKey} from '../../lib/util'\n\nimport './FormControl.css'\n\n\n/**\n* implementation assumes all data-* attributes belong to react-tooltip\n*/\nconst FormControl = ({\n  tag: FormControlType,\n  className = '',\n  ...props\n}) => {\n  const formControlClassName = `drifter-form-control ${className}`\n  const tooltipAttributes = filterObjectByKey('data-', props)\n\n  return props.disabled && tooltipAttributes['data-tip'] ? (\n    <span {...tooltipAttributes}>\n      <FormControlType\n        {...props}\n        className={formControlClassName}\n      />\n    </span>\n  ) : (\n    <FormControlType\n      {...props}\n      {...tooltipAttributes}\n      className={formControlClassName}\n    />\n  )\n}\n\n\nexport default FormControl\n","import FormControl from '../form-control/FormControl'\n\nimport './Input.css'\n\n\nconst Input = ({ type = 'text', className, ...props}) => (\n  <FormControl\n    {...props}\n    tag=\"input\"\n    type={type}\n    className={`drifter-input ${className ?? ''}`}\n  />\n)\n\n\nexport default Input\n","import Input from '../input/Input'\n\nimport './Checkbox.css'\n\n\nconst Checkbox = ({\n  className = '',\n  onChange = () => {},\n  ...props\n}) => (\n  <Input\n    {...props}\n    type=\"checkbox\"\n    className={`drifter-checkbox ${className}`}\n    onChange={({currentTarget: {checked}}) => (\n      onChange(Boolean(checked))\n    )}\n  />\n)\n\n\nexport default Checkbox\n","import {action} from 'mobx'\nimport {observer} from 'mobx-react-lite'\n\nimport layoutStore from '../../store/layout'\n\nimport Heading from '../../components/heading/Heading'\nimport Checkbox from '../../components/checkbox/Checkbox'\n\nimport './Layout.css'\n\n\nconst Layout = ({\n  children,\n  main: Main,\n  sideBar: SideBar = () => null,\n  mainProps = {},\n  sideBarProps = {},\n}) => (\n  <div className=\"drifter-layout\">\n    <main className=\"drifter-layout-main\">\n      { Main ? <Main {...mainProps} /> : children }\n    </main>\n    <Checkbox\n      className=\"drifter-layout-sidebar-pin\"\n      checked={layoutStore.isMenuOpen}\n      onChange={action(checked => (layoutStore.isMenuOpen = checked))}\n    />\n    <aside className=\"drifter-layout-sidebar\">\n      <Heading\n        text={SideBar.displayName}\n        className=\"drifter-layout-sidebar-heading\"\n       />\n      <SideBar {...sideBarProps} />\n    </aside>\n  </div>\n)\n\n\nexport default observer(Layout)\n","import persistedStore from './decorators/persisted-store'\nimport {matrixInsertValue} from '../lib/util'\n\n\nconst samplerStore = persistedStore('sampler', {\n  // 0: fixed sampler full volume --> 100: drifting samplers full volume\n  balance: 0,\n  triggerMatrix: [\n    [1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  ],\n  resetInterval: {\n    value: 4,\n    unit: 'bars',\n  },\n  chaos: 0,\n  get resetIntervalValue() {\n    return this.resetInterval.value\n  },\n  set resetIntervalValue(value) {\n    this.resetInterval.value = value\n  },\n  get resetIntervalUnit() {\n    return this.resetInterval.unit\n  },\n  set resetIntervalUnit(unit) {\n    this.resetInterval.unit = unit\n  },\n  updateTriggerMatrixValue(row, col, value) {\n    // todo - rewrite this as a true update (non-pure) and see what happens\n    this.triggerMatrix = matrixInsertValue(\n      this.triggerMatrix, row, col, value\n    )\n  },\n})\n\n\nexport default samplerStore\n","import persistedStore from './decorators/persisted-store'\n\nconst transportStore = persistedStore('transport', {\n  bpm: 99,\n  isLoopOn: true,\n  isPlaying: false,\n  isRecording: false,\n  loopLengthInSixteenths: 20,\n}, ['isLoopOn', 'isPlaying', 'isRecording', 'loopLengthInSixteenths'])\n\n\nexport default transportStore\n","import './Label.css'\n\n\nconst Label = ({children, className, ...props}) => (\n  <label\n    {...props}\n    className={`drifter-label ${className ?? ''}`}>{\n      children && children.length ? children : null\n    }</label>\n)\n\n\nexport default Label\n","import Label from '../../../components/label/Label'\n\nimport './Setting.css'\n\n\nconst settingAlign = {\n  start: 'flex-start',\n  center: 'center',\n  end: 'flex-end',\n}\n\nconst Setting = ({\n  tooltip,\n  label = '',\n  pad = 0,\n  align = settingAlign.center,\n  className = '',\n  children,\n}) => (\n  <div\n    className={`drifter-setting ${className}`}\n    data-tip={tooltip}\n    data-place=\"left\"\n    data-offset={JSON.stringify({left: 10})}\n  >\n    <Label\n      className=\"drifter-setting-wrap\"\n      style={{\n        alignItems: align,\n        padding: `${pad} 0`,\n      }}\n    >\n      <span className=\"drifter-setting-label\">{`${label}:`}</span>\n      {children}\n    </Label>\n  </div>\n)\n\n\nexport {settingAlign}\n\nexport default Setting\n","import debounce from 'lodash.debounce'\nimport {useEffect, useCallback} from 'react'\n\n\nconst useDebouncedCallback = (listener, wait = 100) => {\n  const debouncedListener = debounce(listener, wait)\n  const debouncedCallback = useCallback(\n    e => debouncedListener(e),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n\n  useEffect(() => {\n    return () => debouncedListener.cancel()\n  }, [debouncedListener])\n\n  return [debouncedCallback, debouncedListener]\n}\n\n\nexport default useDebouncedCallback\n","import useDebouncedCallback from '../../hooks/useDebouncedCallback'\n\nimport Input from '../input/Input'\n\nimport './Range.css'\n\n\nconst Range = ({\n  className = '',\n  onChange = () => {},\n  onChangeImmediate = () => {},\n  ...props\n}) => {\n  const [debouncedOnChange] = useDebouncedCallback(onChange)\n\n  return (\n    <Input\n      {...props}\n      type=\"range\"\n      className={`drifter-range ${className}`}\n      onChange={({currentTarget: {value}}) => {\n        onChangeImmediate(+value)\n        debouncedOnChange(+value)\n      }}\n    />\n  )\n}\n\n\nexport default Range\n","import {action, observable} from 'mobx'\nimport {observer} from 'mobx-react-lite'\nimport {useEffect, useCallback} from 'react'\n\nimport Range from '../range/Range'\n\nimport './Knob.css'\n\n\nconst viewStore = observable({\n  value: 0,\n})\n\nconst Knob = ({\n  min = 0,\n  max = 127,\n  className = '',\n  style = {},\n  ...props\n}) => {\n  useEffect(() => {\n    const updateViewValue = action(\n      () => (viewStore.value = props.defaultValue ?? props.value)\n    )\n    updateViewValue()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const onChangeImmediate = action(useCallback(newValue => {\n    viewStore.value = newValue\n  }, []))\n\n\n  return (\n    <Range\n      {...props}\n      className={`drifter-knob ${className}`}\n      style={{\n        ...style,\n        '--knob-value': viewStore.value,\n        '--knob-min': min,\n        '--knob-max': max,\n      }}\n      min={min}\n      max={max}\n      onChangeImmediate={onChangeImmediate}\n    />\n  )\n}\n\n\nexport default observer(Knob)\n","\nimport './Neumorphism.css'\n\n\nexport const withNeumorphism = (WrappedComponent, {\n  tintColor,\n  shadeColor,\n  backgroundColor\n} = {}) => ({\n  className = '',\n  ...props\n}) => (\n  <WrappedComponent\n    {...props}\n    className={`drifter-has-neumorphism ${className}`}\n    style={{\n      '--neumorphism-bg-color': backgroundColor,\n      '--neumorphism-shadow-color-tint': tintColor,\n      '--neumorphism-shadow-color-shade': shadeColor,\n    }}\n  />\n)\n","import {withNeumorphism} from '../../hoc/neumorphism/Neumorphism'\nimport FormControl from '../form-control/FormControl'\n\nimport './Select.css'\n\n\nconst Select = ({\n  options = [],\n  className = '',\n  onChange = () => {},\n  ...props\n}) => (\n  <FormControl\n    {...props}\n    tag=\"select\"\n    className={`drifter-select ${className}`}\n    onChange={({currentTarget: {value}}) => onChange(value)}\n  >\n    {options.map(({value, label, className: optionClassName}, key) => (\n      <option\n        className={`drifter-select-option ${optionClassName ?? ''}`}\n        key={key}\n        value={value}\n        >{label ?? value}</option>\n    ))}\n  </FormControl>\n)\n\n\nexport default withNeumorphism(Select, {\n  backgroundColor: 'var(--background-color-complement)',\n  tintColor: 'var(--background-color-complement-tint)',\n  shadeColor: 'var(--background-color-complement-shade)',\n})\n","import {mapKeyboardEvents} from '@eliranmal/react-hooks'\n\nimport {withNeumorphism} from '../../hoc/neumorphism/Neumorphism'\nimport Input from '../input/Input'\n\nimport './Number.css'\n\n\nconst StyledInput = withNeumorphism(Input, {\n  backgroundColor: 'var(--background-color-complement)',\n  tintColor: 'var(--background-color-complement-tint)',\n  shadeColor: 'var(--background-color-complement-shade)',\n})\n\nconst Number = ({\n  className = '',\n  onChange,\n  onIncrement,\n  onDecrement,\n  ...props\n}) => (\n  <span className={`drifter-number ${className}`}>\n    <span\n      className=\"drifter-number-spinner drifter-number-spinner-minus\"\n      onClick={onDecrement}\n    >&#8722;</span>\n    <span\n      className=\"drifter-number-spinner drifter-number-spinner-plus\"\n      onClick={onIncrement}\n    >&#43;</span>\n    <StyledInput\n      {...props}\n      className={`drifter-number-input`}\n      type=\"number\"\n      onChange={onChange ? ({currentTarget: {value}}) => onChange(+value) : null}\n      onKeyDown={mapKeyboardEvents([\n        onIncrement ? [38, onIncrement] : [],\n        onDecrement ? [40, onDecrement] : [],\n      ])}\n    />\n  </span>\n)\n\n\nexport default Number\n","\nimport './FormControlGroup.css'\n\n\nconst FormControlGroup = ({\n  className = '',\n  children,\n  ...props\n}) => (\n  <div className={`drifter-form-control-group ${className}`}>\n    {children}\n  </div>\n)\n\n\nexport default FormControlGroup\n","import {action} from 'mobx'\nimport {observer} from 'mobx-react-lite'\n\nimport layoutStore from '../../store/layout'\nimport samplerStore from '../../store/sampler'\nimport transportStore from '../../store/transport'\nimport {analysersLayout} from '../../components/analysers/Analysers'\n\nimport Setting, {settingAlign} from './setting/Setting'\nimport Knob from '../../components/knob/Knob'\nimport Select from '../../components/select/Select'\nimport Number from '../../components/number/Number'\nimport FormControlGroup from '../../components/form-control-group/FormControlGroup'\n\nimport './Settings.css'\n\n\nconst Settings = () => (\n  <div className=\"drifter-settings\">\n    <Setting\n      label=\"bpm\"\n      tooltip={`\n        set the speed in beats per minutes.<br/>\n        enter a value between 1 and 999\n      `}\n    >\n      <Number\n        min={1}\n        max={1000}\n        value={transportStore.bpm}\n        onChange={action(\n          value => (transportStore.bpm = value)\n        )}\n        onIncrement={action(\n          () => (transportStore.bpm++)\n        )}\n        onDecrement={action(\n          () => (transportStore.bpm--)\n        )}\n      />\n    </Setting>\n    <Setting\n      label=\"reset every\"\n      tooltip={`\nsynchronize the original source and the drifting source using this interval (0 means never).<br/>\n(coming soon...)\n      `}\n    >\n      <FormControlGroup>\n        <Number\n          min={0}\n          max={64}\n          value={samplerStore.resetIntervalValue}\n          onChange={action(\n            value => (samplerStore.resetIntervalValue = value)\n          )}\n          tooltip=\"(coming soon...)\"\n          disabled\n        />\n        <Select\n          options={[\n            { value: 'bars' },\n            { value: 'beats' },\n          ]}\n          defaultValue={samplerStore.resetIntervalUnit}\n          onChange={action(\n            value => (samplerStore.resetIntervalUnit = value)\n          )}\n          disabled\n        />\n      </FormControlGroup>\n    </Setting>\n    <Setting\n      label=\"analysers layout\"\n      tooltip=\"the layout mode for the analysers box (play to see the difference)\"\n    >\n      <Select\n        options={[\n          { value: analysersLayout.flow },\n          { value: analysersLayout.stack },\n        ]}\n        defaultValue={layoutStore.analysersLayout}\n        onChange={action(\n          value => (layoutStore.analysersLayout = value)\n        )}\n      />\n    </Setting>\n    <Setting\n      label=\"chaos\"\n      pad=\".5rem\"\n      align={settingAlign.start}\n      tooltip={`\nadd undeterministic time drift by making the CPU work harder.<br/>\nuse at your own risk!\n      `}\n      className=\"drifter-setting-chaos\"\n    >\n      <Knob\n        min={0}\n        max={100}\n        defaultValue={samplerStore.chaos}\n        onChange={action(\n          value => (samplerStore.chaos = value)\n        )}\n      />\n    </Setting>\n  </div>\n)\n\nSettings.displayName = 'settings'\n\n\nexport default observer(Settings)\n","import {useRef} from 'react'\nimport * as Tone from 'tone'\n\n\nconst useToneRef = (type = '', ...args) => useRef(\n  new Tone[type](...args).toDestination()\n).current\n\n\nexport default useToneRef\n","import {useState, useEffect} from 'react'\nimport kebabCase from 'lodash.kebabcase'\n\nimport useToneRef from './useToneRef'\nimport {findEntryByValue} from '../lib/util'\n\n\nconst sampleMap = {\n  rolandTr808: {\n    'C4': 'TR-808Kick01.wav',\n    'C#4': 'TR-808Snare01.wav',\n    'D4': 'TR-808Clap01.wav',\n    'D#4': 'TR-808Hat_C01.wav',\n  },\n}\n\nconst resolveSampleMapDirName = samplerSampleMap => {\n  const [key] = findEntryByValue(samplerSampleMap, sampleMap)\n  return kebabCase(key)\n}\n\nconst useSampler = (samplerSampleMap = {}, samplerOptions = {}, analyserRef) => {\n  const [loaded, setLoaded] = useState(false)\n\n  const samplerKitDirName = resolveSampleMapDirName(samplerSampleMap)\n  const samplerRef = useToneRef('Sampler', samplerSampleMap, {\n    ...samplerOptions,\n    baseUrl: `audio/drum-machines/${samplerKitDirName}/`,\n    onload: () => {\n      setLoaded(true)\n      samplerOptions.onload && samplerOptions.onload()\n    },\n  })\n\n  const {volume = 0} = samplerOptions\n  useEffect(() => {\n    if (loaded) {\n      samplerRef.volume.value = volume\n    }\n  }, [volume, samplerRef, loaded])\n\n  return [analyserRef ? samplerRef.connect(analyserRef) : samplerRef, loaded, analyserRef]\n}\n\n\nexport {sampleMap}\n\nexport default useSampler\n","import useToneRef from './useToneRef'\n\n\nconst useAnalyser = (\n  type = 'waveform',\n  size = 64\n) => useToneRef('Analyser', type, size)\n\n\nexport default useAnalyser\n","import * as Tone from 'tone'\nimport {matrixRotate, blockThread} from './util'\n\n\n// todo - how to get notes dynamically from the sampler instance?\n//        sampler.get() only seems to return the default settings\nconst noteByChannelIndex = [\n  'C4',\n  'C#4',\n  'D4',\n  'D#4',\n]\n\n\nconst triggerMatrixAsNoteSequence = matrix =>\n  matrixRotate(matrix)\n    .map(sixteenthValues => sixteenthValues\n      .map((value, channelIndex) => value && noteByChannelIndex[channelIndex])\n      .filter(Boolean))\n\n\nexport const asTransportTime = sixteenthIndex => [\n  Math.floor(sixteenthIndex / 16) % 4,\n  Math.floor(sixteenthIndex / 4) % 4,\n  sixteenthIndex % 4,\n].join(':')\n\n/**\n* this function is not pure!\n* it causes side effects by invoking the sampler instance imperatively\n*/\nexport const loadTriggers = (sampler, matrix) => {\n  triggerMatrixAsNoteSequence(matrix)\n    .map((sixteenthNotes, sixteenthIndex) => sixteenthNotes.length &&\n        sampler.triggerAttack(sixteenthNotes, asTransportTime(sixteenthIndex))\n    )\n}\n\nconst clearableMap = new WeakMap()\n\nexport const executeTriggers = (\n  sampler,\n  matrix = [],\n  bpm,\n  stopPredicate = index => index >= matrix.length - 1,\n  sliceTo,\n  chaosPercentage = 0,\n) => {\n  if (clearableMap.has(sampler)) {\n    clearTimeout(clearableMap.get(sampler))\n  }\n  const sixteenthInMilliseconds = ((60 / bpm) / 4) * 1000\n  let noteSequence = triggerMatrixAsNoteSequence(matrix)\n  if (typeof sliceTo !== 'undefined') {\n    noteSequence = noteSequence.slice(0, sliceTo)\n  }\n\n  let index = 0\n  // console.time(index)\n  const tick = () => {\n    if (stopPredicate(index)) {\n      if (clearableMap.has(sampler)) {\n        clearTimeout(clearableMap.get(sampler))\n      }\n      return\n    }\n\n    blockThread(chaosPercentage / 100)\n\n    const notes = noteSequence[index % noteSequence.length]\n    // console.timeEnd(index)\n    index += 1\n    // console.time(index)\n    sampler.triggerAttack(notes, Tone.immediate())\n    clearableMap.set(sampler, setTimeout(tick, sixteenthInMilliseconds))\n  }\n\n  tick()\n}\n","import {useEffect} from 'react'\nimport * as audio from '../lib/audio'\nimport useSampler from './useSampler'\n\n\nconst useFixedSampler = (triggerMatrix, ...samplerArgs) => {\n  const [sampler, isSamplerLoaded] = useSampler(...samplerArgs)\n\n  useEffect(() => sampler.unsync().sync(), [sampler, triggerMatrix])\n\n  useEffect(() => {\n    if (isSamplerLoaded) {\n      audio.loadTriggers(sampler, triggerMatrix)\n    }\n  }, [isSamplerLoaded, sampler, triggerMatrix])\n\n  return [sampler, isSamplerLoaded]\n}\n\n\nexport default useFixedSampler\n","import {useEffect} from 'react'\n\nimport * as audio from '../lib/audio'\nimport useSampler from './useSampler'\n\n\nconst useDriftingSampler = (\n  triggerMatrix, bpm, loopLengthInSixteenths, chaosPercentage, isStoppedCallback,\n  ...samplerArgs\n) => {\n  const [sampler, isSamplerLoaded] = useSampler(...samplerArgs)\n\n  useEffect(() => sampler.unsync(), [sampler, triggerMatrix])\n\n  useEffect(() => {\n    if (isSamplerLoaded) {\n      audio.executeTriggers(\n        sampler, triggerMatrix, bpm, isStoppedCallback, loopLengthInSixteenths, chaosPercentage\n      )\n    }\n  }, [isSamplerLoaded, sampler, triggerMatrix, bpm, isStoppedCallback, loopLengthInSixteenths, chaosPercentage])\n\n  return [sampler, isSamplerLoaded]\n}\n\n\nexport default useDriftingSampler\n","import {useCallback} from 'react'\nimport {action} from 'mobx'\nimport {observer} from 'mobx-react-lite'\nimport {useAnimationFrame} from '@eliranmal/react-hooks'\n\nimport {\n  percentageScale,\n  proximityDistribution,\n} from '../../lib/util'\nimport samplerStore from '../../store/sampler'\nimport transportStore from '../../store/transport'\nimport analysersStore from '../../store/analysers'\nimport {sampleMap} from '../../hooks/useSampler'\nimport useAnalyser from '../../hooks/useAnalyser'\nimport useFixedSampler from '../../hooks/useFixedSampler'\nimport useDriftingSampler from '../../hooks/useDriftingSampler'\nimport {withBoxWrapper} from '../../hoc/box-wrapper/BoxWrapper'\n\nimport Checkbox from '../checkbox/Checkbox'\n\nimport './Sampler.css'\n\n\nconst Sampler = ({\n  className,\n  style,\n  'data-tip': tooltip,\n}) => {\n  const {balance, triggerMatrix} = samplerStore\n  // todo - replace the usage of 'isPlaying' with a 'cursor' to enable linking animation steps with audio events\n  const {bpm, isPlaying, loopLengthInSixteenths} = transportStore\n\n  const asDbSpl = percentageScale(-36, 0)\n  const [\n    fixedSamplerVolume,\n    driftingSampler1Volume,\n    driftingSampler2Volume,\n    driftingSampler3Volume\n  ] = proximityDistribution(balance, 4).map(\n    percentageValue => asDbSpl(percentageValue)\n  )\n\n  const isStoppedCallback = useCallback(() => !isPlaying, [isPlaying])\n\n  const fixedSamplerAnalyser = useAnalyser()\n  const driftingSampler1Analyser = useAnalyser()\n  const driftingSampler2Analyser = useAnalyser()\n  const driftingSampler3Analyser = useAnalyser()\n\n  useFixedSampler(\n    triggerMatrix, sampleMap.rolandTr808, {volume: fixedSamplerVolume}, fixedSamplerAnalyser)\n  useDriftingSampler(\n    triggerMatrix, bpm, loopLengthInSixteenths, samplerStore.chaos, isStoppedCallback, sampleMap.rolandTr808,\n    {volume: driftingSampler1Volume}, driftingSampler1Analyser)\n  useDriftingSampler(\n    triggerMatrix, bpm, loopLengthInSixteenths, samplerStore.chaos, isStoppedCallback, sampleMap.rolandTr808,\n    {volume: driftingSampler2Volume}, driftingSampler2Analyser)\n  useDriftingSampler(\n    triggerMatrix, bpm, loopLengthInSixteenths, samplerStore.chaos, isStoppedCallback, sampleMap.rolandTr808,\n    {volume: driftingSampler3Volume}, driftingSampler3Analyser)\n\n\n  useAnimationFrame(\n    () => Object.entries({\n      f: fixedSamplerAnalyser,\n      d1: driftingSampler1Analyser,\n      d2: driftingSampler2Analyser,\n      d3: driftingSampler3Analyser,\n    }).forEach(([key, analyser]) => (\n      analysersStore[key] = Array.from(analyser.getValue())\n    )),\n    isStoppedCallback,\n    action\n  )\n\n\n  return (\n    <div\n      data-tip={tooltip}\n      className={`drifter-sampler ${isPlaying ? 'drifter-sampler-running' : ''} ${className}`}\n      style={{\n        ...style,\n        '--sampler-ticks': loopLengthInSixteenths\n      }}\n    >\n      <div\n        className=\"drifter-sampler-timeline\"\n      >\n        <div className=\"drifter-sampler-tape\"></div>\n        <div className=\"drifter-sampler-channels\">\n          {triggerMatrix.map((channel, channelIndex) => (\n            <div key={channelIndex} className=\"drifter-sampler-channel\">\n              {channel.map((tickValue, tickIndex) => (\n                <Checkbox\n                  className=\"drifter-sampler-tick\"\n                  key={tickIndex}\n                  defaultChecked={!!tickValue}\n                  onChange={checked => samplerStore.updateTriggerMatrixValue(\n                    channelIndex, tickIndex, +checked\n                  )}\n                />\n              ))}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default withBoxWrapper(observer(Sampler), {\n  useWrapper: false,\n})\n","import FormControl from '../form-control/FormControl'\n\nimport './Button.css'\n\n\nconst Button = ({className = '', ...props}) => (\n  <FormControl\n    {...props}\n    tag=\"button\"\n    className={`drifter-button ${className}`}\n  />\n)\n\n\nexport default Button\n","import Button from '../button/Button'\nimport {withNeumorphism} from '../../hoc/neumorphism/Neumorphism'\n\nimport './TransportButton.css'\n\n\nconst tooltipByType = {\n  play: 'play<br/>(space)',\n  stop: 'stop<br/>(space)',\n  record: 'record<br/>(shift+r)',\n}\n\nconst disabledTooltipByType = Object.entries(tooltipByType).reduce(\n  (accum, [key, value]) => {\n    accum[key] = `${value}<br/>(coming soon...)`\n    return accum\n  },\n  {}\n)\n\n\nconst TransportButton = ({\n  type,\n  isActive,\n  className = '',\n  ...props\n}) => (\n  <Button\n    {...props}\n    className={[\n      'drifter-transport-button',\n      type ? `drifter-transport-button-type-${type}` : '',\n      isActive ? 'drifter-transport-button-active' : '',\n      className,\n    ].filter(Boolean).join(' ')}\n    data-tip={(props.disabled ? disabledTooltipByType : tooltipByType)[type]}\n    data-class=\"drifter-react-tooltip drifter-transport-button-tooltip\"\n  />\n)\n\n\nexport default withNeumorphism(TransportButton)\n","import {action} from 'mobx'\nimport {observer} from 'mobx-react-lite'\nimport {useEffect, useCallback} from 'react'\nimport * as Tone from 'tone'\nimport {useKeyboard, mapKeyboardEvents} from '@eliranmal/react-hooks'\n\nimport {asTransportTime} from '../../lib/audio'\nimport transportStore from '../../store/transport'\nimport TransportButton from '../transport-button/TransportButton'\n\nimport './Transport.css'\n\n\nconst init = ({bpm, isLoopOn, loopLengthInSixteenths} = {}) => {\n  Tone.Transport.loop = !!isLoopOn\n  if (bpm) {\n    Tone.Transport.bpm.value = bpm\n  }\n  if (loopLengthInSixteenths) {\n    Tone.Transport.setLoopPoints(0, asTransportTime(loopLengthInSixteenths))\n  }\n}\n\nconst play = () => Tone.start()\n  .then(() => Tone.Transport.start())\n\nconst stop = () => Tone.loaded()\n  .then(() => Tone.Transport.stop())\n\n\nconst Transport = ({\n  onPlay = () => {},\n  onStop = () => {},\n  onRecord = () => {},\n}) => {\n  const {\n    bpm,\n    isLoopOn,\n    isPlaying,\n    isRecording,\n    loopLengthInSixteenths,\n  } = transportStore\n\n  const playListener = useCallback(\n    () => !isPlaying && play()\n      .then(action(() => (transportStore.isPlaying = true)))\n      .then(onPlay),\n    [isPlaying, onPlay])\n\n  const stopListener = useCallback(\n    () => isPlaying && stop()\n      .then(action(() => {\n        transportStore.isPlaying = false\n        transportStore.isRecording = false\n      }))\n      .then(onStop),\n    [isPlaying, onStop])\n\n  const recordListener = action(useCallback(\n    () => {\n      transportStore.isRecording = true\n      onRecord()\n    }, [onRecord]))\n\n  const toggleListener = useCallback(\n    () => isPlaying ? stopListener() : playListener(),\n    [isPlaying, playListener, stopListener])\n\n  useEffect(() => {\n    init({bpm, isLoopOn, loopLengthInSixteenths})\n  }, [bpm, isLoopOn, loopLengthInSixteenths])\n\n  useKeyboard(mapKeyboardEvents([\n    // space\n    [32, () => toggleListener()],\n    // shift+r\n    [82, ['shiftKey'], () => {\n      playListener()\n      recordListener()\n    }],\n  ]))\n\n  return (\n    <div className=\"drifter-transport\">\n      <TransportButton\n        type=\"play\"\n        onClick={playListener}\n        isActive={isPlaying}\n      />\n      <TransportButton\n        type=\"stop\"\n        onClick={stopListener}\n      />\n      <TransportButton\n        type=\"record\"\n        onClick={recordListener}\n        isActive={isRecording}\n        disabled\n      />\n    </div>\n  )\n}\n\n\nexport default observer(Transport)\n","import {action} from 'mobx'\nimport {observer} from 'mobx-react-lite'\nimport {useMediaQueries} from '@eliranmal/react-hooks'\n\nimport layoutStore from '../../store/layout'\nimport samplerStore from '../../store/sampler'\nimport transportStore from '../../store/transport'\n\nimport Heading from '../../components/heading/Heading'\nimport Sampler from '../../components/sampler/Sampler'\nimport Analysers from '../../components/analysers/Analysers'\nimport Transport from '../../components/transport/Transport'\nimport Range from '../../components/range/Range'\n\nimport './MainView.css'\n\n\nconst MainView = () => {\n\n  useMediaQueries({\n    '(max-width: 600px)': () => (transportStore.loopLengthInSixteenths = 4),\n    '(min-width: 600px) and (max-width: 800px)': () => (transportStore.loopLengthInSixteenths = 8),\n    '(min-width: 800px) and (max-width: 1200px)': () => (transportStore.loopLengthInSixteenths = 16),\n    '(min-width: 1200px)': () => (transportStore.loopLengthInSixteenths = 32),\n  }, action)\n\n\n  return (\n    <div className=\"drifter-main-view\">\n      <header className=\"drifter-main-view-header\">\n        <Heading text=\"drifter\" />\n        <Transport />\n      </header>\n      <Sampler\n        className=\"drifter-main-view-panel\"\n        data-tip={`\n          this is a simple step sequencer; toggle the pads to add or remove notes.<br/>\n          rows are channels, and columns represent sixteenth note intervals.\n        `}\n      />\n      <Range\n        className=\"drifter-main-view-panel-center\"\n        data-tip=\"sets the balance between the fixed sampler's signal and the drifting samplers' signal\"\n        defaultValue={samplerStore.balance}\n        onChange={action(value => (samplerStore.balance = value))}\n        style={{flexShrink: 1, flexGrow: 0, margin: '-2rem 0'}}\n      />\n      <Analysers\n        className=\"drifter-main-view-panel-end\"\n        data-tip=\"shows waveforms for all samplers. you can set the analysers layout in the settings.\"\n        layout={layoutStore.analysersLayout}\n      />\n    </div>\n  )\n}\n\n\nexport default observer(MainView)\n","import React from 'react'\n\nimport Heading from '../heading/Heading'\n\nimport './AppErrorBoundary.css'\n\n\nclass AppErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      hasError: false,\n      errorMessage: null,\n      errorStackTrace: null,\n    }\n  }\n\n  static getDerivedStateFromError = (error) => {\n    return {\n      hasError: true,\n      errorMessage: error.message,\n      errorStackTrace: error.stack,\n    }\n  }\n\n  // componentDidCatch(error, errorInfo) {\n  //   logErrorToMyService(error, errorInfo);\n  // }\n\n  render() {\n    if (this.state.hasError) {\n      return this.renderErrorView()\n    }\n    return this.props.children;\n  }\n\n  renderErrorView() {\n    return (\n      <div className=\"drifter-app-error-view\">\n        <Heading text={this.props.message ?? 'error'} />\n        <div className=\"drifter-app-error-view-details-box\">\n          <label>message</label>\n          <pre\n            className=\"drifter-app-error-view-pre\"\n          >{this.state.errorMessage}</pre>\n          <details\n            className=\"drifter-app-error-view-details\"\n            open\n          >\n            <summary>stack trace</summary>\n            <pre\n              className=\"drifter-app-error-view-pre drifter-app-error-view-stacktrace\"\n            >{this.state.errorStackTrace}</pre>\n          </details>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default AppErrorBoundary\n","import ReactTooltip from 'react-tooltip'\n\nimport Layout from './pages/layout/Layout'\nimport Settings from './pages/settings/Settings'\nimport MainView from './pages/main-view/MainView'\nimport AppErrorBoundary from './components/error-boundary/AppErrorBoundary'\n\nimport './App.css';\nimport './styles/react-tooltip.css'\n\n\nconst App = () => (\n  <>\n    <ReactTooltip\n      className=\"drifter-react-tooltip\"\n      effect=\"solid\"\n      delayShow={500}\n      delayHide={250}\n      textColor=\"var(--background-color)\"\n      backgroundColor=\"var(--accent-color-complement)\"\n      multiline\n    />\n    <AppErrorBoundary>\n      <Layout\n        main={MainView}\n        sideBar={Settings}\n      />\n      </AppErrorBoundary>\n  </>\n)\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}